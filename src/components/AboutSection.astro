---
import Title from "@/components/Title.astro";
import University from "@/components/University.astro";
import Profile from "@/components/Profile.astro";
import Experience from "@/components/Experience.astro";
---

<section class="relative w-full overflow-hidden" id="about">
  <div class="">
    <Title title="Acerca de mÃ­" />
    <div class="grid grid-cols-1 md:grid-cols-2 mb-20 gap-10">
      <div class="flex flex-col gap-10 h-full">
        <div>
          <University />
        </div>
        <div class="flex-1">
          <Profile />
        </div>
      </div>
      <div class="h-full">
        <Experience />
      </div>
    </div>
  </div>
</section>

<script type="module">
  const observer = new IntersectionObserver(
    (entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          entry.target.classList.add("custom-show");
        }
      });
    },
    { threshold: 0.1 }
  );

  const hiddenElements = document.querySelectorAll(".custom-hidden");
  hiddenElements.forEach((el) => observer.observe(el));
</script>

<style>
  .custom-hidden {
    @apply opacity-0 transform scale-75 transition-all duration-1000 ease-out;
  }

  .custom-show {
    @apply opacity-100 scale-100;
  }
</style>
